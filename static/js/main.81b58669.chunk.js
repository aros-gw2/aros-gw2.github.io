(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(291)},121:function(e,t,a){},125:function(e,t,a){},284:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),c=a(23),n=a.n(c),r=(a(121),a(115)),l=a(18),o=a.n(l),m=a(25),u=a(11),p=a(12),d=a(20),h=a(19),g=a(21),v=(a(125),a(110)),b=a.n(v),f=a(108),j=a.n(f),E=a(105),w=a.n(E),y=a(107),k=a.n(y),x=a(109),O=a.n(x),B={selectorContainer:{position:"fixed",top:"0px",left:"0px",padding:"10px",background:"rgba(255,255,255,0.3)",textAlign:"left",color:"#efefef",fontSize:"12pt"},worldContainer:{position:"fixed",top:"0px",left:"0px",padding:"10px",background:"rgba(0,0,0,0.3)",textAlign:"left",color:"#efefef",fontSize:"12pt",minWidth:"300px",zIndex:100}},C=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.worlds,a=e.world,s=e.setWorld,c=e.linkedWorlds,n=e.color,r=[];for(var l in t){var o=t[l];r.push(i.a.createElement(w.a,{key:l,value:l},o.name))}if(a){var m=c.green.map(function(e,a){return t[e].name}),u=c.blue.map(function(e,a){return t[e].name}),p=c.red.map(function(e,a){return t[e].name}),d=i.a.createElement("img",{src:"/img/World_Completion.png",alt:"homeServer",style:{verticalAlign:"middle",width:"20px",marginRight:"5px"}}),h={fontSize:"20px",lineHeight:"30px",verticalAlign:"middle",textShadow:"rgb(0, 0, 0) -1px 0px 1px, rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px"};return i.a.createElement("div",{style:B.worldContainer},i.a.createElement("div",{className:"green"},"green"===n?d:"",i.a.createElement("span",{style:h},m.join(" & "))),i.a.createElement("div",{className:"blue"},"blue"===n?d:"",i.a.createElement("span",{style:h},u.join(" & "))),i.a.createElement("div",{className:"red"},"red"===n?d:"",i.a.createElement("span",{style:h},p.join(" & "))))}return i.a.createElement("div",{style:B.selectorContainer},i.a.createElement(k.a,{variant:"outlined",style:{width:"250px"}},i.a.createElement(j.a,{ref:"inputLabelRef",htmlFor:"outlined-age-simple"},"Choose a world"),i.a.createElement(O.a,{value:"dwadawdawd",onChange:function(e){s(e.target.value)},input:i.a.createElement(b.a,{labelWidth:250,name:"world",id:"outlined-age-simple"})},r)))}}]),t}(s.Component),H=a(55),N=a.n(H),S=function(){function e(t){Object(u.a)(this,e),this.config=Object.assign({retry:3},t)}return Object(p.a)(e,[{key:"get",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,s,i=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:0,e.prev=1,e.next=4,N.a.get(t,{timeout:5e3});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:if(e.prev=8,e.t0=e.catch(1),!(a<this.config.retry-1)){e.next=16;break}return e.next=13,this.get(t,++a);case 13:return e.abrupt("return",e.sent);case 16:return e.abrupt("return",new Error(e.t0));case 17:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){}},{key:"put",value:function(){}},{key:"delete",value:function(){}}]),e}(),R=new(function(){function e(){Object(u.a)(this,e),this.request=new S}return Object(p.a)(e,[{key:"getById",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,s,i=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"en",e.next=3,this.request.get("https://api.guildwars2.com/v2/guild/".concat(t,"?lang=").concat(a));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),D={logContainer:{position:"fixed",bottom:"0px",right:"0px",maxHeight:"150px",width:"500px",overflowY:"auto",textAlign:"left",color:"#efefef",fontSize:"12pt",zIndex:100}},W=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={maps:{BlueHome:"BBL",GreenHome:"GBL",RedHome:"RBL",Center:"EBG"}},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"parseDate",value:function(e){return"string"===typeof e&&(e=new Date(e)),("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}},{key:"render",value:function(){var e=this,t=this.props,a=t.world,s=t.log,c=t.objectives,n=t.guilds,r=this.state.maps,l={fontSize:"13px",background:"rgba(0,0,0,0.5)",padding:"5px",color:"white",textShadow:"-1px 0 1px #000, 1px 0 1px #000, 0 1px 1px #000, 0 -1px 1px #000"};if(a){var o=[].concat(s).reverse().filter(function(e,t){if(t<50)return e});return i.a.createElement("div",{style:D.logContainer},o.map(function(t,a){var s=Object.assign({},l),o={fontWeight:700};switch(t.map){case"RedHome":s.background="#ff000020";break;case"BlueHome":s.background="#0000ff20";break;case"GreenHome":s.background="#00ff0020";break;case"Center":s.background="#ffffff20"}switch(t.owner){case"Red":o.color="red";break;case"Blue":o.color="blue";break;case"Green":o.color="green"}return"flipped"===t.type?i.a.createElement("div",{style:s},r[t.map],": ",e.parseDate(t.flipped)," - ",i.a.createElement("span",{style:o},t.owner)," flipped ",i.a.createElement("strong",null,c[t.objectiveId].name)):i.a.createElement("div",{style:s},r[t.map],": ",e.parseDate(t.claimed)," - ",i.a.createElement("span",{style:o},n[t.claimed_by].name," [",n[t.claimed_by].tag,"]")," claimed ",i.a.createElement("strong",null,c[t.objectiveId].name))}),i.a.createElement("div",{style:l},"Service started."))}return i.a.createElement("div",{style:D.logContainer})}}]),t}(s.Component),G=a(111),M=a.n(G),T=a(113),_=a.n(T),L=a(112),I=a.n(L),P=a(4),F=a.n(P),K=(a(284),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={expanded:!0},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"parseDate",value:function(e){return"string"===typeof e&&(e=new Date(e)),("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}},{key:"copyToClipboard",value:function(e){var t=document.getElementById(e);t?(t.select(),document.execCommand("copy")):console.log(e,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.world,s=t.matchup,c=t.linkedWorlds,n=t.color,r=t.worlds;if(a){console.log(s);var l={red:s.kills.red,blue:s.kills.blue,green:s.kills.green},o={red:s.deaths.red,blue:s.deaths.blue,green:s.deaths.green},m=c.green.map(function(e,t){return r[e].name}),u=c.blue.map(function(e,t){return r[e].name}),p=c.red.map(function(e,t){return r[e].name}),d=i.a.createElement("img",{src:"/img/World_Completion.png",alt:"homeServer",style:{verticalAlign:"middle",width:"20px",marginRight:"5px"}});"".concat(m.join(" & ")," - Kills: ").concat(l.green," - Deaths: ").concat(o.green," - KDR: ").concat(Math.round(l.green/o.green*100)/100," - PPK: ").concat(Math.round(2*l.green/s.scores.green*1e4)/100,"%"),"".concat(u.join(" & ")," - Kills: ").concat(l.blue," - Deaths: ").concat(o.blue," - KDR: ").concat(Math.round(l.blue/o.blue*100)/100," - PPK: ").concat(Math.round(2*l.blue/s.scores.blue*1e4)/100,"%"),"".concat(p.join(" & ")," - Kills: ").concat(l.red," - Deaths: ").concat(o.red," - KDR: ").concat(Math.round(l.red/o.red*100)/100," - PPK: ").concat(Math.round(2*l.red/s.scores.red*1e4)/100,"%");return i.a.createElement("div",{className:F()({statsContainer:!0,statsContainerExpanded:this.state.expanded})},i.a.createElement("div",{className:"floatLeft statsExpander"},i.a.createElement(M.a,{onClick:function(){e.setState({expanded:!e.state.expanded})}},this.state.expanded?i.a.createElement(I.a,null):i.a.createElement(_.a,null))),i.a.createElement("table",{className:"floatLeft statsTable"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Server"),i.a.createElement("th",null,"Kills"),i.a.createElement("th",null,"Deaths"),i.a.createElement("th",null,"K/D"),i.a.createElement("th",null,"PPK"),i.a.createElement("th",null))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"green"},"green"===n?d:"",i.a.createElement("span",null,m.join(" & ")))),i.a.createElement("td",null,l.green),i.a.createElement("td",null,o.green),i.a.createElement("td",null,Math.round(l.green/o.green*100)/100),i.a.createElement("td",null,Math.round(2*l.green/s.scores.green*1e4)/100,"%")),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"blue"},"blue"===n?d:"",i.a.createElement("span",null,u.join(" & ")))),i.a.createElement("td",null,l.blue),i.a.createElement("td",null,o.blue),i.a.createElement("td",null,Math.round(l.blue/o.blue*100)/100),i.a.createElement("td",null,Math.round(2*l.blue/s.scores.blue*1e4)/100,"%")),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"red"},"red"===n?d:"",i.a.createElement("span",null,p.join(" & ")))),i.a.createElement("td",null,l.red),i.a.createElement("td",null,o.red),i.a.createElement("td",null,Math.round(l.red/o.red*100)/100),i.a.createElement("td",null,Math.round(2*l.red/s.scores.red*1e4)/100,"%")))))}return i.a.createElement("div",null)}}]),t}(s.Component)),A=a(55),z=new(function(){function e(){Object(u.a)(this,e)}return Object(p.a)(e,[{key:"getById",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,s,i=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"en",e.next=3,A.get("https://api.guildwars2.com/v2/worlds?lang=".concat(a,"&id=").concat(t));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(m.a)(o.a.mark(function e(){var t,a,s=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"en",e.next=3,A.get("https://api.guildwars2.com/v2/worlds?lang=".concat(t,"&ids=all"));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()),q=a(17),J=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={pulse:!1},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"parseDate",value:function(e){return"string"===typeof e&&(e=new Date(e)),("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(void 0!==this.props.matchup.id){var s,i,c=e.map,n=e.id,r=e.matchup;if(r.maps){for(var l,o=0;o<r.maps.length;o++)if(r.maps[o].type===c)for(var m=0;m<r.maps[o].objectives.length;m++)r.maps[o].objectives[m].id===n&&(l=r.maps[o].objectives[m]);s=l.owner}var u=this.props.map,p=this.props.id,d=this.props.matchup;if(d.maps){for(var h,g=0;g<d.maps.length;g++)if(d.maps[g].type===u)for(var v=0;v<d.maps[g].objectives.length;v++)d.maps[g].objectives[v].id===p&&(h=d.maps[g].objectives[v]);i=h.owner}s!==i&&(console.log("new owner",i),this.setState({pulse:!0}),setTimeout(function(){a.setState({pulse:!1})},1e4))}}},{key:"render",value:function(){var e,t,a,s=this.props,c=s.map,n=s.objectives,r=s.id,l=s.matchup,o=s.top,m=s.left,u="greyBg",p=0;if(l.maps){n[r];for(var d,h=0;h<l.maps.length;h++)if(l.maps[h].type===c)for(var g=0;g<l.maps[h].objectives.length;g++)l.maps[h].objectives[g].id===r&&(d=l.maps[h].objectives[g]);var v=d,b=v.owner;switch(p=v.points_tick,a=b,t=v.claimed_by,b){case"Red":u="redBg";break;case"Blue":u="blueBg";break;case"Green":u="greenBg";break;default:u="greyBg"}}return i.a.createElement("div",{className:"objectiveContainer",style:{top:o,left:m}},i.a.createElement("div",{className:F()(Object(q.a)({},"pulse1".concat(a),this.state.pulse))}),i.a.createElement("div",{className:F()(Object(q.a)({},"pulse2".concat(a),this.state.pulse))}),i.a.createElement("img",{className:F()((e={},Object(q.a)(e,u,!0),Object(q.a)(e,"objective",!0),e)),src:"/img/camp.png",alt:"Camp"}),4===p?i.a.createElement("img",{src:"/img/Reinforced.png",alt:"Reinforced",className:"reinforced"}):"",3===p?i.a.createElement("img",{src:"/img/Secured.png",alt:"Secured",className:"secured"}):"",t?i.a.createElement("img",{src:"/img/claimed.png",alt:"claimed",className:"claimed"}):"")}}]),t}(s.Component),Y=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={pulse:!1},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"parseDate",value:function(e){return"string"===typeof e&&(e=new Date(e)),("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}},{key:"render",value:function(){var e,t,a,s=this.props,c=s.map,n=(s.objectives,s.id),r=s.matchup,l=s.top,o=s.left,m="greyBg",u=0;if(r.maps){for(var p,d=0;d<r.maps.length;d++)if(r.maps[d].type===c)for(var h=0;h<r.maps[d].objectives.length;h++)r.maps[d].objectives[h].id===n&&(p=r.maps[d].objectives[h]);var g=p,v=g.owner;switch(u=g.points_tick,a=v,t=g.claimed_by,v){case"Red":m="redBg";break;case"Blue":m="blueBg";break;case"Green":m="greenBg";break;default:m="greyBg"}}var b=F()(Object(q.a)({},"pulse1".concat(a),this.state.pulse)),f=F()(Object(q.a)({},"pulse2".concat(a),this.state.pulse));return i.a.createElement("div",{className:"objectiveContainer",style:{top:l,left:o}},i.a.createElement("div",{className:b}),i.a.createElement("div",{className:f}),i.a.createElement("img",{className:F()((e={},Object(q.a)(e,m,!0),Object(q.a)(e,"objective",!0),e)),src:"/img/tower.png",alt:"Tower"}),10===u?i.a.createElement("img",{src:"/img/Fortified.png",alt:"Fortified",className:"fortified"}):"",8===u?i.a.createElement("img",{src:"/img/Reinforced.png",alt:"Reinforced",className:"reinforced"}):"",6===u?i.a.createElement("img",{src:"/img/Secured.png",alt:"Secured",className:"secured"}):"",t?i.a.createElement("img",{src:"/img/claimed.png",alt:"claimed",className:"claimed"}):"")}}],[{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(void 0!==this.props.matchup.id){var s,i,c=e.map,n=e.id,r=e.matchup;if(r.maps){for(var l,o=0;o<r.maps.length;o++)if(r.maps[o].type===c)for(var m=0;m<r.maps[o].objectives.length;m++)r.maps[o].objectives[m].id===n&&(l=r.maps[o].objectives[m]);s=l.owner}var u=this.props.map,p=this.props.id,d=this.props.matchup;if(d.maps){for(var h,g=0;g<d.maps.length;g++)if(d.maps[g].type===u)for(var v=0;v<d.maps[g].objectives.length;v++)d.maps[g].objectives[v].id===p&&(h=d.maps[g].objectives[v]);i=h.owner}s!==i&&(console.log("new owner",i),this.setState({pulse:!0},function(){}),setTimeout(function(){a.setState({pulse:!1},function(){})},1e4))}}}]),t}(s.Component),$=a(114),Q=a.n($),U=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={pulse:!1},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"parseDate",value:function(e){return"string"===typeof e&&(e=new Date(e)),("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}},{key:"parseFlippedTime",value:function(e){"string"===typeof e&&(e=new Date(e));var t=(new Date).getTime()-e.getTime(),a=0,s=0;(t/=1e3)>3600&&(a=Math.floor(t/3600),t%=3600),t>60&&(s=Math.floor(t/60),t%=60);var i="";return a&&(i+="".concat(a," hours")),a&&s&&(i+=" and"),i+=" ".concat(s," minutes")}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(void 0!==this.props.matchup.id){var s,i,c=e.map,n=e.id,r=e.matchup;if(r.maps){for(var l,o=0;o<r.maps.length;o++)if(r.maps[o].type===c)for(var m=0;m<r.maps[o].objectives.length;m++)r.maps[o].objectives[m].id===n&&(l=r.maps[o].objectives[m]);s=l.owner}var u=this.props.map,p=this.props.id,d=this.props.matchup;if(d.maps){for(var h,g=0;g<d.maps.length;g++)if(d.maps[g].type===u)for(var v=0;v<d.maps[g].objectives.length;v++)d.maps[g].objectives[v].id===p&&(h=d.maps[g].objectives[v]);i=h.owner}s!==i&&(this.setState({pulse:!0}),setTimeout(function(){a.setState({pulse:!1})},1e4))}}},{key:"render",value:function(){var e,t,a,s=this.props,c=s.map,n=s.objectives,r=s.id,l=s.matchup,o=s.top,m=s.left,u=s.guilds,p="greyBg",d=0,h=[];if(l.maps){for(var g,v=n[r],b=0;b<l.maps.length;b++)if(l.maps[b].type===c)for(var f=0;f<l.maps[b].objectives.length;f++)l.maps[b].objectives[f].id===r&&(g=l.maps[b].objectives[f]);var j=g,E=j.owner,w=j.points_tick,y=j.claimed_by,k=j.last_flipped,x=j.yaks_delivered;switch(d=w,a=E,t=y,E){case"Red":p="redBg";break;case"Blue":p="blueBg";break;case"Green":p="greenBg";break;default:p="greyBg"}if(h.push(i.a.createElement("div",null,v.name)),y&&u[y]){var O=u[y].name.replace(/ /g,"-");h.push(i.a.createElement("div",null,i.a.createElement("span",null,"Claimed by:"),i.a.createElement("br",null),i.a.createElement("img",{src:"https://guilds.gw2w2w.com/guilds/".concat(O,"/160.svg")}),i.a.createElement("br",null),i.a.createElement("span",null,u[y].name," [",u[y].tag,"]")))}h.push(i.a.createElement("div",null,"Flipped ",this.parseFlippedTime(new Date(k))," ago.")),h.push(i.a.createElement("div",null,"Dolyaks: ",x," / 140")),h.push(i.a.createElement("div",null,"Points per Tick: ",w))}return i.a.createElement(Q.a,{title:i.a.createElement("div",null,h),placement:"top"},i.a.createElement("div",{className:"objectiveContainer",style:{top:o,left:m}},i.a.createElement("div",{className:F()(Object(q.a)({},"pulse1".concat(a),this.state.pulse))}),i.a.createElement("div",{className:F()(Object(q.a)({},"pulse2".concat(a),this.state.pulse))}),i.a.createElement("img",{className:F()((e={},Object(q.a)(e,p,!0),Object(q.a)(e,"objective",!0),e)),src:"/img/keep.png",alt:"Keep"}),20===d?i.a.createElement("img",{src:"/img/waypoint.png",alt:"waypoint",className:"waypoint"}):"",20===d?i.a.createElement("img",{src:"/img/Fortified.png",alt:"Fortified",className:"fortified"}):"",16===d?i.a.createElement("img",{src:"/img/Reinforced.png",alt:"Reinforced",className:"reinforced"}):"",12===d?i.a.createElement("img",{src:"/img/Secured.png",alt:"Secured",className:"secured"}):"",t?i.a.createElement("img",{src:"/img/claimed.png",alt:"claimed",className:"claimed"}):""))}}]),t}(s.Component),V=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={pulse:!1},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"parseDate",value:function(e){return"string"===typeof e&&(e=new Date(e)),("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(void 0!==this.props.matchup.id){var s,i,c=e.map,n=e.id,r=e.matchup;if(r.maps){for(var l,o=0;o<r.maps.length;o++)if(r.maps[o].type===c)for(var m=0;m<r.maps[o].objectives.length;m++)r.maps[o].objectives[m].id===n&&(l=r.maps[o].objectives[m]);s=l.owner}var u=this.props.map,p=this.props.id,d=this.props.matchup;if(d.maps){for(var h,g=0;g<d.maps.length;g++)if(d.maps[g].type===u)for(var v=0;v<d.maps[g].objectives.length;v++)d.maps[g].objectives[v].id===p&&(h=d.maps[g].objectives[v]);i=h.owner}s!==i&&(console.log("new owner",i),this.setState({pulse:!0}),setTimeout(function(){a.setState({pulse:!1})},1e4))}}},{key:"render",value:function(){var e,t,a,s=this.props,c=s.map,n=s.objectives,r=s.id,l=s.matchup,o=s.top,m=s.left,u="greyBg",p=0;if(l.maps){n[r];for(var d,h=0;h<l.maps.length;h++)if(l.maps[h].type===c)for(var g=0;g<l.maps[h].objectives.length;g++)l.maps[h].objectives[g].id===r&&(d=l.maps[h].objectives[g]);var v=d,b=v.owner;switch(p=v.points_tick,a=b,t=v.claimed_by,b){case"Red":u="redBg";break;case"Blue":u="blueBg";break;case"Green":u="greenBg";break;default:u="greyBg"}}return i.a.createElement("div",{className:"objectiveContainer",style:{top:o,left:m}},i.a.createElement("div",{className:F()(Object(q.a)({},"pulse1".concat(a),this.state.pulse))}),i.a.createElement("div",{className:F()(Object(q.a)({},"pulse2".concat(a),this.state.pulse))}),i.a.createElement("img",{className:F()((e={},Object(q.a)(e,u,!0),Object(q.a)(e,"objective",!0),e)),src:"/img/castle.png",alt:"Castle"}),20===p?i.a.createElement("img",{src:"/img/waypoint.png",alt:"waypoint",className:"waypoint"}):"",32===p?i.a.createElement("img",{src:"/img/Fortified.png",alt:"Fortified",className:"fortified"}):"",24===p?i.a.createElement("img",{src:"/img/Reinforced.png",alt:"Reinforced",className:"reinforced"}):"",16===p?i.a.createElement("img",{src:"/img/Secured.png",alt:"Secured",className:"secured"}):"",t?i.a.createElement("img",{src:"/img/claimed.png",alt:"claimed",className:"claimed"}):"")}}]),t}(s.Component),X=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={objectives:{},guilds:{},world:0,linkedWorlds:[],worlds:{},ready:0,region:0,tier:0,color:"",matchup:{},skirmish:{},skirmishStart:0,timeout:null,objectivesLastFlipped:{},objectivesLastClaimed:{},matchupLog:[]},e.request=new S,e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(o.a.mark(function e(){var t,a,s,i,c,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getAll();case 2:for(s in t=e.sent,a={},t)i=t[s],a[i.id]=i;return e.next=7,this.request.get("https://api.guildwars2.com/v2/wvw/objectives?ids=all&lang=en");case 7:for(n in t=e.sent,c={},t)r=t[n],c[r.id]=r;this.setState({worlds:a,objectives:c,ready:1});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getMatchup",value:function(){var e=Object(m.a)(o.a.mark(function e(){var t,a,s,i,c,n,r,l,m,u,p,d,h,g,v,b,f,j,E,w,y,k,x,O,B,C,H,N,S,D,W,G,M,T,_,L=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.region,s=t.tier,i=t.matchup,t.skirmish,c=t.world,n=t.objectivesLastClaimed,r=t.objectivesLastFlipped,l=t.matchupLog,m=t.guilds,!a||!s){e.next=55;break}return e.next=4,this.request.get("https://api.guildwars2.com/v2/wvw/matches?id=".concat(a,"-").concat(s));case 4:if(!((u=e.sent)instanceof Error)){e.next=9;break}return d=setTimeout(function(){L.getMatchup()},1e4),this.setState({timeout:d}),e.abrupt("return");case 9:if(console.log(i,u),i.start_time===u.start_time){e.next=16;break}return console.log("reset matchup"),u,i=u,this.setWorld(c),e.abrupt("return");case 16:i.skirmishes.length!==u.skirmishes.length&&(console.log("reset skirmish"),u,i=u),g=(h=u).start_time,v=h.maps,b=new Date(g),p=new Date(b.getTime()+2*(u.skirmishes.length-1)*60*60*1e3),e.t0=o.a.keys(v);case 21:if((e.t1=e.t0()).done){e.next=55;break}f=e.t1.value,j=v[f],E=j.objectives,w=0;case 26:if(!(w<E.length)){e.next=53;break}if(y=E[w],k=y.id,x=y.owner,O=y.last_flipped,B=y.claimed_by,C=y.claimed_at,H="".concat(k),!B||m[B]){e.next=35;break}return e.next=33,R.getById(B);case 33:N=e.sent,m[B]=N;case 35:if(S=!1,r[H]||(r[H]=new Date(O),C&&(n[H]=new Date(C).getTime()),S=!0),r[H].getTime()===new Date(O).getTime()||S||(D=new Date,W=(D.getTime()-new Date(O).getTime())/1e3,r[H]=new Date(O),W<0&&(W=0),console.log("flipped"),l.push({map:j.type,type:"flipped",owner:x,flipped:O,flippedBeforeSec:W,objectiveId:y.id})),!C||S){e.next=50;break}if(n[H]===new Date(C).getTime()){e.next=50;break}return G=new Date,n[H]=new Date(C).getTime(),(M=(G.getTime()-n[H])/1e3)<0&&(M=0),console.log("claimed",B),e.next=47,R.getById(B);case 47:T=e.sent,m[T.id]=T,l.push({map:j.type,type:"claimed",owner:x,claimed:C,claimed_by:B,claimedBeforeSec:M,objectiveId:y.id});case 50:w++,e.next=26;break;case 53:e.next=21;break;case 55:_=setTimeout(function(){L.getMatchup()},5e3),u&&this.setState({matchup:u,timeout:_,skirmishStart:p,objectivesLastClaimed:n,objectivesLastFlipped:r,matchupLog:l,guilds:m});case 57:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWorld",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,s,i,c,n,l,m,u,p,d,h,g,v,b,f,j;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(t,10),e.next=3,this.request.get("https://api.guildwars2.com/v2/wvw/matches?ids=all&_=".concat((new Date).getTime()));case 3:if(!(void 0===(a=e.sent).length||a instanceof Error)){e.next=7;break}return alert("There is a problem with the Guild Wars 2 API or your network connection."),e.abrupt("return");case 7:for(n=!0,l=!1,m=void 0,e.prev=10,u=a[Symbol.iterator]();!(n=(p=u.next()).done);n=!0)d=p.value,h=d.all_worlds,h.red.concat(h.blue,h.green).includes(t)&&(s=d,h.red.includes(t)?i="red":h.blue.includes(t)?i="blue":h.green.includes(t)&&(i="green"),c=h);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),l=!0,m=e.t0;case 18:e.prev=18,e.prev=19,n||null==u.return||u.return();case 21:if(e.prev=21,!l){e.next=24;break}throw m;case 24:return e.finish(21);case 25:return e.finish(18);case 26:g=s.id,v=g.split("-"),b=Object(r.a)(v,2),f=b[0],j=b[1],this.setState({world:t,matchup:s,region:f,tier:j,skirmish:s,color:i,linkedWorlds:c}),this.getMatchup();case 30:case"end":return e.stop()}},e,this,[[10,14,18,26],[19,,21,25]])}));return function(t){return e.apply(this,arguments)}}()},{key:"resetWorld",value:function(){this.setState({world:0})}},{key:"render",value:function(){var e=this;return this.state.ready?i.a.createElement("div",{className:"App"},i.a.createElement("div",{style:{position:"relative"}},i.a.createElement(C,{color:this.state.color,linkedWorlds:this.state.linkedWorlds,world:this.state.world,worlds:this.state.worlds,setWorld:function(t){return e.setWorld(t)}}),i.a.createElement(W,{objectives:this.state.objectives,world:this.state.world,log:this.state.matchupLog,guilds:this.state.guilds}),i.a.createElement(K,{color:this.state.color,worlds:this.state.worlds,linkedWorlds:this.state.linkedWorlds,world:this.state.world,matchup:this.state.matchup}),i.a.createElement("img",{src:"/img/hybrid-1-desert-4096.jpg",alt:"",style:{width:"100%"}}),i.a.createElement("div",{className:"red-map"},i.a.createElement("h2",{className:"redBorderHeading"},"Red BL"),i.a.createElement(J,{top:"13.5%",left:"51%",matchup:this.state.matchup,id:"1099-99",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"18.2%",left:"39%",matchup:this.state.matchup,id:"1099-115",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"19.8%",left:"63.8%",matchup:this.state.matchup,id:"1099-109",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"35.5%",left:"41%",matchup:this.state.matchup,id:"1099-101",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"36.7%",left:"62.3%",matchup:this.state.matchup,id:"1099-100",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"42.7%",left:"50.5%",matchup:this.state.matchup,id:"1099-116",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"13.5%",left:"43%",matchup:this.state.matchup,id:"1099-102",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"15%",left:"60.7%",matchup:this.state.matchup,id:"1099-104",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"38.9%",left:"56.1%",matchup:this.state.matchup,id:"1099-105",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"36.5%",left:"46.5%",matchup:this.state.matchup,id:"1099-110",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"21%",left:"51.5%",matchup:this.state.matchup,id:"1099-113",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"27.5%",left:"38.5%",matchup:this.state.matchup,id:"1099-106",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"28.5%",left:"64%",matchup:this.state.matchup,id:"1099-114",objectives:this.state.objectives,map:"RedHome",guilds:this.state.guilds})),i.a.createElement("div",{className:"blue-map"},i.a.createElement("h2",{className:"blueBorderHeading"},"Blue BL"),i.a.createElement(J,{top:"34.5%",left:"82%",matchup:this.state.matchup,id:"96-39",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"47.5%",left:"74%",matchup:this.state.matchup,id:"96-52",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"47%",left:"91.5%",matchup:this.state.matchup,id:"96-51",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"64.5%",left:"74.5%",matchup:this.state.matchup,id:"96-53",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"63.5%",left:"90.5%",matchup:this.state.matchup,id:"96-50",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"71.5%",left:"82.0%",matchup:this.state.matchup,id:"96-34",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"45.5%",left:"76.5%",matchup:this.state.matchup,id:"96-38",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"45.5%",left:"87.5%",matchup:this.state.matchup,id:"96-40",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"63%",left:"78.5%",matchup:this.state.matchup,id:"96-35",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"63%",left:"86.5%",matchup:this.state.matchup,id:"96-36",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"50%",left:"82%",matchup:this.state.matchup,id:"96-37",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"57%",left:"72.5%",matchup:this.state.matchup,id:"96-33",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"56%",left:"92.5%",matchup:this.state.matchup,id:"96-32",objectives:this.state.objectives,map:"BlueHome",guilds:this.state.guilds})),i.a.createElement("div",{className:"green-map"},i.a.createElement("h2",{className:"greenBorderHeading"},"Green BL"),i.a.createElement(J,{top:"43.5%",left:"16.5%",matchup:this.state.matchup,id:"95-39",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"55.5%",left:"7.5%",matchup:this.state.matchup,id:"95-52",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"55.5%",left:"25.5%",matchup:this.state.matchup,id:"95-51",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"72.5%",left:"8.5%",matchup:this.state.matchup,id:"95-53",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"72%",left:"24.5%",matchup:this.state.matchup,id:"95-50",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(J,{top:"80.5%",left:"16%",matchup:this.state.matchup,id:"95-34",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"53.5%",left:"10.5%",matchup:this.state.matchup,id:"95-38",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"53.5%",left:"21.5%",matchup:this.state.matchup,id:"95-40",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"71%",left:"12.5%",matchup:this.state.matchup,id:"95-35",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(Y,{top:"71%",left:"20.5%",matchup:this.state.matchup,id:"95-36",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"58.5%",left:"16%",matchup:this.state.matchup,id:"95-37",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"65.5%",left:"6.5%",matchup:this.state.matchup,id:"95-33",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds}),i.a.createElement(U,{top:"64%",left:"26.5%",matchup:this.state.matchup,id:"95-32",objectives:this.state.objectives,map:"GreenHome",guilds:this.state.guilds})),i.a.createElement("div",{className:"center-map"},i.a.createElement("h2",{className:"ebgHeading"},"EBG"),i.a.createElement(J,{top:"64.5%",left:"42.5%",matchup:this.state.matchup,id:"38-6",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(J,{top:"67.5%",left:"56.5%",matchup:this.state.matchup,id:"38-5",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(J,{top:"75.5%",left:"40.5%",matchup:this.state.matchup,id:"38-10",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(J,{top:"88.5%",left:"46.5%",matchup:this.state.matchup,id:"38-4",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(J,{top:"90.5%",left:"53.5%",matchup:this.state.matchup,id:"38-7",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(J,{top:"76.5%",left:"59.5%",matchup:this.state.matchup,id:"38-8",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"63.5%",left:"47%",matchup:this.state.matchup,id:"38-17",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"64.5%",left:"54.5%",matchup:this.state.matchup,id:"38-20",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"69%",left:"54%",matchup:this.state.matchup,id:"38-19",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"70.5%",left:"46.5%",matchup:this.state.matchup,id:"38-18",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"80.5%",left:"38.5%",matchup:this.state.matchup,id:"38-11",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"88.5%",left:"43.5%",matchup:this.state.matchup,id:"38-13",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"84%",left:"47.5%",matchup:this.state.matchup,id:"38-13",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"77.5%",left:"44.5%",matchup:this.state.matchup,id:"38-12",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"86%",left:"52.5%",matchup:this.state.matchup,id:"38-16",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"89.5%",left:"57.5%",matchup:this.state.matchup,id:"38-15",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"80.5%",left:"60.5%",matchup:this.state.matchup,id:"38-22",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(Y,{top:"77.5%",left:"56%",matchup:this.state.matchup,id:"38-21",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(U,{top:"66.5%",left:"51.5%",matchup:this.state.matchup,id:"38-1",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(U,{top:"84.5%",left:"41%",matchup:this.state.matchup,id:"38-3",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(U,{top:"84.5%",left:"58.5%",matchup:this.state.matchup,id:"38-2",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds}),i.a.createElement(V,{top:"77.5%",left:"50%",matchup:this.state.matchup,id:"38-9",objectives:this.state.objectives,map:"Center",guilds:this.state.guilds})))):i.a.createElement("div",null)}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(i.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,2,1]]]);
//# sourceMappingURL=main.81b58669.chunk.js.map